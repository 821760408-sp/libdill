.\" Automatically generated by Pandoc 1.19.2.1
.\"
.TH "HDUP" "3" "" "libdill" "libdill Library Functions"
.hy
.SH NAME
.PP
hdup \- duplicates a handle
.SH SYNOPSIS
.IP
.nf
\f[C]
#include\ <libdill.h>

int\ hdup(int\ h);
\f[]
.fi
.SH DESCRIPTION
.PP
Duplicates a handle.
The new handle will refer to the same underlying object.
.PP
\f[B]h\f[]: Handle to duplicate.
.PP
Each duplicate of a handle requires its own call to \f[B]hclose\f[].
The underlying object is deallocated when all handles pointing to it
have been closed.
.SH RETURN VALUE
.PP
In case of success the function returns newly duplicated handle.
In case of error it returns \-1 and sets \f[B]errno\f[] to one of the
values below.
.SH ERRORS
.IP \[bu] 2
\f[B]EBADF\f[]: Invalid handle.
.IP \[bu] 2
\f[B]EMFILE\f[]: The maximum number of file descriptors in the process
are already open.
.IP \[bu] 2
\f[B]ENFILE\f[]: The maximum number of file descriptors in the system
are already open.
.IP \[bu] 2
\f[B]ENOMEM\f[]: Not enough memory.
.SH EXAMPLE
.IP
.nf
\f[C]
int\ h1\ =\ tcp_connect(&addr,\ deadline);
h2\ =\ hdup(h1);
hclose(h1);
hclose(h2);\ /*\ The\ socket\ gets\ deallocated\ here.\ */
\f[]
.fi
.SH SEE ALSO
.PP
\f[B]hclose\f[](3) \f[B]hclose\f[](3) \f[B]hdone\f[](3)
\f[B]hmake\f[](3) \f[B]hquery\f[](3)
