.\" Automatically generated by Pandoc 1.19.2.1
.\"
.TH "WS_REQUEST_KEY" "3" "" "libdill" "libdill Library Functions"
.hy
.SH NAME
.PP
ws_request_key \- generates an unique value for Sec\-WebSocket\-Key
field
.SH SYNOPSIS
.IP
.nf
\f[C]
#include\ <libdill.h>

int\ ws_request_key(char*\ request_key);
\f[]
.fi
.SH DESCRIPTION
.PP
This is a helper function that can be used when doing a custom HTTP
handshake for the WebSocket protocol (see \f[B]WS_NOHTTP\f[] flag).
It generates an unique RFC\-compliant key to be filled into
\f[B]Sec\-WebSocket\-Key\f[] of the HTTP request.
.PP
The generated key is null\-terminated.
.PP
\f[B]request_key\f[]: Buffer to hold the generated request key.
It must be at least \f[B]WS_KEY_SIZE\f[] bytes long.
.SH RETURN VALUE
.PP
In case of success the function returns 0.
In case of error it returns \-1 and sets \f[B]errno\f[] to one of the
values below.
.SH ERRORS
.IP \[bu] 2
\f[B]EINVAL\f[]: Invalid argument.
.SH EXAMPLE
.IP
.nf
\f[C]
char\ request_key[WS_KEY_SIZE];
ws_request_key(request_key);
http_sendfield(s,\ "Sec\-WebSocket\-Key",\ request_key,\ \-1);
\f[]
.fi
.SH SEE ALSO
.PP
\f[B]ws_response_key\f[](3)
